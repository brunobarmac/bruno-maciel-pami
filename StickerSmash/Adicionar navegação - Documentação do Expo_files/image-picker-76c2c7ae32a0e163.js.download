try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="f2fa3776-b9fd-4535-a901-800ee57b03a9",e._sentryDebugIdIdentifier="sentry-dbid-f2fa3776-b9fd-4535-a901-800ee57b03a9")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[71379],{7759:(e,t,n)=>{"use strict";n.a(e,async(e,s)=>{try{n.d(t,{A:()=>b});var a=n(37876),r=n(66028),i=n(97342),l=n(14232),o=n(34523),c=n(37683),d=n(96427),m=n(36981),h=n(44920),p=n(83508),u=n(50532),x=n(38938),g=n(71275),f=n(66907),j=e([o]);o=(j.then?(await j)():j)[0];let{X1:y}=m,b=e=>{let{dependencies:t=[],label:n,defaultPlatform:s,templateId:m,files:j,platforms:b,contentHidden:w,children:I}=e,v=(0,l.useRef)(null),[k,C]=(0,l.useState)(!1),N=(0,d.zs)();(0,l.useEffect)(()=>{C(!0)},[]);let S=()=>{let{version:e}=N;return"latest"===e?y:e},{language:P,value:E}=(0,o._Y)(I);return(0,a.jsxs)(u.Y,{className:"mb-3 flex flex-col prose-pre:!m-0 prose-pre:!border-0",children:[(0,a.jsx)(f.L,{title:n??"Example",Icon:r.SnackLogo,children:(0,a.jsxs)("form",{action:c.Z,method:"POST",target:"_blank",className:"contents",children:[(0,a.jsx)("input",{type:"hidden",name:"platform",value:s??"android"}),(0,a.jsx)("input",{type:"hidden",name:"name",value:n??"Example"}),(0,a.jsx)("input",{type:"hidden",name:"dependencies",value:t.join(",")}),(0,a.jsx)("input",{type:"hidden",name:"sdkVersion",value:(()=>{let e=S();return"unversioned"===e&&(e=y),e.replace("v","")})()}),b&&(0,a.jsx)("input",{type:"hidden",name:"supportedPlatforms",value:b.join(",")}),k&&(0,a.jsx)("input",{type:"hidden",name:"files",value:JSON.stringify((0,c.C)({templateId:m,code:E,files:j,baseURL:`${document.location.origin}/static/examples/${S()}`,codeLanguage:P}))}),(0,a.jsx)(h.e,{text:(0,o.e6)(E)}),(0,a.jsx)(x.g,{disabled:!k,rightSlot:(0,a.jsx)(i.ArrowUpRightIcon,{className:"icon-sm text-icon-secondary"}),className:"max-sm-gutters:gap-0 [&_p]:max-sm-gutters:hidden",type:"submit",children:(0,a.jsxs)("span",{className:"max-sm-gutters:hidden",children:[(0,a.jsx)("span",{className:"max-md-gutters:hidden",children:"Open in "}),"Snack"]})}),(0,a.jsx)(p.C,{})]})}),(0,a.jsx)(g.R,{ref:v,className:(0,r.mergeClasses)("p-0",w&&"hidden"),children:I})]})};s()}catch(e){s(e)}})},19002:(e,t,n)=>{"use strict";n.d(t,{B:()=>u});var s=n(37876),a=n(66028),r=n(97342),i=n(44527),l=n(25833),o=n(75298),c=n(50532),d=n(38938),m=n(71275),h=n(66907),p=n(44920);let u=e=>{let{cmd:t,cmdCopy:n,hideOverflow:r,className:l,title:o="Terminal",browserAction:d}=e;return(0,s.jsxs)(c.Y,{className:(0,a.mergeClasses)("terminal-snippet [li_&]:mt-4",l),children:[(0,s.jsxs)(h.L,{alwaysDark:!0,title:o,Icon:i.TerminalSquareIcon,children:[d&&(0,s.jsx)(g,{...d}),(0,s.jsx)(x,{cmd:t,cmdCopy:n})]}),(0,s.jsx)(m.R,{alwaysDark:!0,hideOverflow:r,className:"flex flex-col",children:t.map(f)})]})},x=e=>{let{cmd:t,cmdCopy:n}=e,a=n??function(e){let t=e.filter(e=>!e.startsWith("#")&&""!==e);if(1===t.length)return t[0].startsWith("$")?t[0].slice(2):t[0]}(t);return a?(0,s.jsx)(p.e,{alwaysDark:!0,text:a}):null},g=e=>{let{href:t,label:n}=e;return(0,s.jsx)(d.g,{alwaysDark:!0,className:"max-sm-gutters:gap-0 [&_p]:max-sm-gutters:hidden",rightSlot:(0,s.jsx)(r.ArrowUpRightIcon,{className:"icon-sm shrink-0 text-icon-secondary"}),onClick:()=>{window.open(t,"_blank","noopener,noreferrer")},children:n})};function f(e,t){let n=`line-${t}`;return""===e.trim()?(0,s.jsx)("br",{className:"select-none"},n):e.startsWith("#")?(0,s.jsx)(o.Sq,{className:"select-none whitespace-pre !border-none !bg-transparent !text-palette-gray10",children:e},n):e.startsWith("$")?(0,s.jsxs)("div",{className:"w-fit",children:[(0,s.jsx)(o.Sq,{className:"select-none whitespace-pre !border-none !bg-transparent !text-secondary",children:"-\xa0"}),(0,s.jsx)(o.Sq,{className:"whitespace-pre !border-none !bg-transparent text-default",dangerouslySetInnerHTML:{__html:l.Prism.highlight(e.slice(1).trim(),l.Prism.languages.bash,"bash")}})]},n):(0,s.jsx)(o.Sq,{className:"whitespace-pre !border-none !bg-transparent text-default",children:e},n)}},19618:(e,t,n)=>{"use strict";n.d(t,{b:()=>u});var s=n(37876),a=n(97342),r=n(12976),i=n(14232),l=n(27013),o=n(83508),c=n(50532),d=n(38938),m=n(71275),h=n(66907);let p=()=>Math.random().toString(36).slice(2,9),u=e=>{let{source:t,raw:n,filenameModifier:u=e=>e,filenameToLinkUrl:x,showOperation:g=!1,collapseDeletedFiles:f=!1,SnippetHeaderComponent:j=h.L}=e,[y,b]=(0,i.useState)(n?(0,l.FR)(n):null);return((0,i.useEffect)(()=>{t&&(async()=>{let e=await fetch(t),n=await e.text();b((0,l.FR)(n))})()},[t]),y)?(0,s.jsx)(s.Fragment,{children:y.map(e=>{let{oldRevision:t=p(),newRevision:n=p(),type:i,hunks:h,newPath:y,oldPath:b}=e;return 0===h.length?null:(0,s.jsxs)(c.Y,{children:[(0,s.jsxs)(j,{title:`${u("delete"===i?b:y)}`,Icon:r.Copy07Icon,operationType:i,showOperation:g,float:f&&"delete"===i,children:[y&&x&&"delete"!==i?(0,s.jsx)(d.g,{rightSlot:(0,s.jsx)(a.ArrowUpRightIcon,{className:"icon-sm shrink-0 text-icon-secondary"}),onClick:()=>{window.open(x(y),"_blank")},children:"Raw"}):null,(0,s.jsx)(o.C,{})]}),f&&"delete"===i?null:(0,s.jsx)(m.R,{className:"p-0",hideOverflow:!0,children:(0,s.jsx)(l.oO,{viewType:"unified",diffType:i,hunks:h,children:e=>e.map(e=>(0,s.jsx)(l.D9,{hunk:e},e.content))})})]},t+"-"+n)})}):null}},37683:(e,t,n)=>{"use strict";n.d(t,{C:()=>a,Z:()=>s});let s="https://snack.expo.dev";function a(e){let{templateId:t,code:n,files:s,baseURL:a,codeLanguage:r}=e,i={};return s&&Object.keys(s).forEach(e=>{let t=s[e];/\.(jsx?|tsx?|json|md)$/i.test(e)?i[e]={type:"CODE",url:/^https?:\/\//.test(t)?t:`${a}/${t}`}:i[e]={type:"ASSET",contents:t}}),t?"jsx"===r?i["App.js"]={type:"CODE",url:`${a}/${t}.js`}:i["App.tsx"]={type:"CODE",url:`${a}/${t}.tsx`}:n&&("jsx"===r?i["App.js"]={type:"CODE",contents:n}:i["App.tsx"]={type:"CODE",contents:n}),i}},38955:(e,t,n)=>{"use strict";n.d(t,{s:()=>h});var s=n(37876),a=n(66028),r=n(41711),i=n(84437),l=n(65987),o=n(75298),c=n(15294);function d(e){let{size:t="md",className:n}=e;return(0,s.jsx)("div",{className:(0,a.mergeClasses)("flex items-center justify-center rounded-full border-2 border-success bg-success","md"===t&&"size-20","sm"===t&&"size-15",n),children:(0,s.jsx)(c.CheckIcon,{className:(0,a.mergeClasses)("text-success","md"===t&&"size-10","sm"===t&&"size-[30px]")})})}var m=n(8051);function h(e){let{currentChapterIndex:t,name:n,summary:c,nextChapterTitle:h,nextChapterDescription:p,nextChapterLink:u}=e,{chapters:x,setChapters:g,getStartedChapters:f,setGetStartedChapters:j}=(0,i.N)(),y="GET_STARTED"===n,b=y?f[t]:x[t];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"mx-auto flex w-full flex-col gap-4 rounded-lg border-2 border-palette-gray4 px-4 py-5",children:[(0,s.jsx)(d,{size:"sm",className:(0,a.mergeClasses)("mx-auto flex items-center justify-center grayscale transition duration-300",b.completed&&"border-palette-green5 grayscale-0")}),(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2",children:[(0,s.jsxs)("p",{className:"flex items-center text-center font-semibold text-default heading-lg",children:[(0,s.jsx)(r.BookOpen02Icon,{className:"mr-2 size-6 text-icon-secondary max-md-gutters:hidden"})," ",b.title]}),(0,s.jsx)("p",{className:"max-w-[60ch] pb-2 text-center leading-normal text-secondary",children:c})]}),(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsx)(m.S,{id:`chapter-${t}`,checked:b.completed,label:b.completed?"Mark this chapter as unread":"Mark this chapter as read",onChange:y?()=>{b.completed?j(f.map((e,n)=>n===t?{...e,completed:!1}:e)):j(f.map((e,n)=>n===t?{...e,completed:!0}:e))}:()=>{b.completed?g(x.map((e,n)=>n===t?{...e,completed:!1}:e)):g(x.map((e,n)=>n===t?{...e,completed:!0}:e))}})})]}),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.P,{className:"my-4",children:p}),(0,s.jsx)(l.u,{href:u,title:`Next: ${h}`,Icon:r.BookOpen02Icon})]})]})}},40717:(e,t,n)=>{"use strict";n.a(e,async(e,s)=>{try{n.r(t),n.d(t,{__N_SSG:()=>p,default:()=>x,headings:()=>f,meta:()=>g});var a=n(37876),r=n(91668),i=n(72486),l=n(38955),o=n(94275),c=n(87249),d=n(49800),m=n(58674),h=e([o]);o=(h.then?(await h)():h)[0];var p=!0;let g={modificationDate:"August 12, 2025",title:"Use an image picker",description:"In this tutorial, learn how to use Expo Image Picker.",hasVideoLink:!0},f=[{depth:2,type:"text",title:"Install expo-image-picker"},{depth:2,type:"text",title:"Pick an image from the device's media library"},{depth:2,type:"text",title:"Update the button component"},{depth:2,type:"text",title:"Use the selected image"},{depth:2,type:"text",title:"Summary"}];function u(e){let t={a:"a",blockquote:"blockquote",code:"code",h2:"h2",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(t.p,{children:["React Native provides built-in components as standard building blocks, such as ",(0,a.jsx)(t.code,{children:"<View>"}),", ",(0,a.jsx)(t.code,{children:"<Text>"}),", and ",(0,a.jsx)(t.code,{children:"<Pressable>"}),". We are building a feature to select an image from the device's media gallery. This isn't possible with the core components and we'll need a library to add this feature in our app."]}),"\n",(0,a.jsxs)(t.p,{children:["We'll use ",(0,a.jsx)(t.a,{href:"/../../../../../../../versions/latest/sdk/imagepicker",children:(0,a.jsx)(t.code,{children:"expo-image-picker"})}),", a library from Expo SDK."]}),"\n",(0,a.jsxs)(t.blockquote,{children:["\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.code,{children:"expo-image-picker"})," provides access to the system's UI to select images and videos from the phone's library."]}),"\n"]}),"\n",(0,a.jsx)(m.r,{videoId:"iEQZU58naS8",title:"Watch: Using an image picker in your universal Expo app"}),"\n",(0,a.jsx)(t.hr,{}),"\n",(0,a.jsxs)(c.p,{label:"1",children:[(0,a.jsx)(t.h2,{id:"install-expo-image-picker",children:"Install expo-image-picker"}),(0,a.jsx)(t.p,{children:"To install the library, run the following command:"}),(0,a.jsx)(o.BK,{cmd:["$ npx expo install expo-image-picker"]})]}),"\n",(0,a.jsxs)(c.p,{label:"2",children:[(0,a.jsx)(t.h2,{id:"pick-an-image-from-the-devices-media-library",children:"Pick an image from the device's media library"}),(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.code,{children:"expo-image-picker"})," provides ",(0,a.jsx)(t.code,{children:"launchImageLibraryAsync()"})," method to display the system UI by choosing an image or a video from the device's media library. We'll use the primary themed button created in the previous chapter to select an image from the device's media library and create a function to launch the device's image library to implement this functionality."]}),(0,a.jsxs)(t.p,{children:["In ",(0,a.jsx)(t.strong,{children:"app/(tabs)/index.tsx"}),", import ",(0,a.jsx)(t.code,{children:"expo-image-picker"})," library and create a ",(0,a.jsx)(t.code,{children:"pickImageAsync()"})," function inside the ",(0,a.jsx)(t.code,{children:"Index"})," component:"]}),(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-tsx",children:"@@@app/(tabs)/index.tsx|collapseHeight=440@@@// ...rest of the import statements remain unchanged\n/* @tutinfo Import <CODE>ImagePicker</CODE>. */ import * as ImagePicker from 'expo-image-picker';/* @end */\n\nexport default function Index() {\n  /* @tutinfo Pass image picker options to <CODE>launchImageLibraryAsync()</CODE> */\n  const pickImageAsync = async () => {\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ['images'],\n      allowsEditing: true,\n      quality: 1,\n    });\n\n    if (!result.canceled) {\n      /* @tutinfo If the image is picked, print its information in terminal window. */\n      console.log(result);\n      /* @end */\n    } else {\n      /* @tutinfo If the user does not pick an image, show an alert. */\n      alert('You did not select any image.');\n      /* @end */\n    }\n  };\n  /* @end */\n\n  // ...rest of the code remains same\n}\n"})}),(0,a.jsx)(t.p,{children:"Let's learn what the above code does:"}),(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["The ",(0,a.jsx)(t.code,{children:"launchImageLibraryAsync()"})," receives an object to specify different options. This object is the ",(0,a.jsx)(t.a,{href:"/../../../../../../../versions/latest/sdk/imagepicker/#imagepickeroptions",children:(0,a.jsx)(t.code,{children:"ImagePickerOptions"})})," object, which we are passing when invoking the method."]}),"\n",(0,a.jsxs)(t.li,{children:["When ",(0,a.jsx)(t.code,{children:"allowsEditing"})," is set to ",(0,a.jsx)(t.code,{children:"true"}),", the user can crop the image during the selection process on Android and iOS."]}),"\n"]})]}),"\n",(0,a.jsxs)(c.p,{label:"3",children:[(0,a.jsx)(t.h2,{id:"update-the-button-component",children:"Update the button component"}),(0,a.jsxs)(t.p,{children:["On pressing the primary button, we'll call the ",(0,a.jsx)(t.code,{children:"pickImageAsync()"})," function on the ",(0,a.jsx)(t.code,{children:"Button"})," component. Update the ",(0,a.jsx)(t.code,{children:"onPress"})," prop of the ",(0,a.jsx)(t.code,{children:"Button"})," component in ",(0,a.jsx)(t.strong,{children:"components/Button.tsx"}),":"]}),(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-tsx",children:"@@@components/Button.tsx@@@import { StyleSheet, View, Pressable, Text } from 'react-native';\nimport FontAwesome from '@expo/vector-icons/FontAwesome';\n\ntype Props = {\n  label: string;\n  theme?: 'primary';\n  /* @tutinfo Define the type for <CODE>onPress</CODE> prop. */\n  onPress?: () => void;\n  /* @end */\n};\n\nexport default function Button({ label, theme, /* @tutinfo Pass this prop to trigger the handler method from the parent component. */onPress/* @end */ }: Props) {\n  if (theme === 'primary') {\n    return (\n      <View\n        style={[\n          styles.buttonContainer,\n          { borderWidth: 4, borderColor: '#ffd33d', borderRadius: 18 },\n        ]}>\n        <Pressable style={[styles.button, { backgroundColor: '#fff' }]} onPress={/* @tutinfo */onPress/* @end */}>\n          <FontAwesome name=\"picture-o\" size={18} color=\"#25292e\" style={styles.buttonIcon} />\n          <Text style={[styles.buttonLabel, { color: '#25292e' }]}>{label}</Text>\n        </Pressable>\n      </View>\n    );\n  }\n\n  return (\n    <View style={styles.buttonContainer}>\n      <Pressable style={styles.button} onPress={() => alert('You pressed a button.')}>\n        <Text style={styles.buttonLabel}>{label}</Text>\n      </Pressable>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  buttonContainer: {\n    width: 320,\n    height: 68,\n    marginHorizontal: 20,\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 3,\n  },\n  button: {\n    borderRadius: 10,\n    width: '100%',\n    height: '100%',\n    alignItems: 'center',\n    justifyContent: 'center',\n    flexDirection: 'row',\n  },\n  buttonIcon: {\n    paddingRight: 8,\n  },\n  buttonLabel: {\n    color: '#fff',\n    fontSize: 16,\n  },\n});\n"})}),(0,a.jsxs)(t.p,{children:["In ",(0,a.jsx)(t.strong,{children:"app/(tabs)/index.tsx"}),", add the ",(0,a.jsx)(t.code,{children:"pickImageAsync()"})," function to the ",(0,a.jsx)(t.code,{children:"onPress"})," prop on the first ",(0,a.jsx)(t.code,{children:"<Button>"}),"."]}),(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-tsx",children:"@@@app/(tabs)/index.tsx@@@import { View, StyleSheet } from 'react-native';\nimport * as ImagePicker from 'expo-image-picker';\n\nimport Button from '@/components/Button';\nimport ImageViewer from '@/components/ImageViewer';\n\nconst PlaceholderImage = require('@/assets/images/background-image.png');\n\nexport default function Index() {\n  const pickImageAsync = async () => {\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ['images'],\n      allowsEditing: true,\n      quality: 1,\n    });\n\n    if (!result.canceled) {\n      console.log(result);\n    } else {\n      alert('You did not select any image.');\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.imageContainer}>\n        <ImageViewer imgSource={PlaceholderImage} />\n      </View>\n      <View style={styles.footerContainer}>\n        <Button theme=\"primary\" label=\"Choose a photo\" onPress={/* @tutinfo Add this. */pickImageAsync/* @end */} />\n        <Button label=\"Use this photo\" />\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#25292e',\n    alignItems: 'center',\n  },\n  imageContainer: {\n    flex: 1,\n  },\n  footerContainer: {\n    flex: 1 / 3,\n    alignItems: 'center',\n  },\n});\n"})}),(0,a.jsxs)(t.p,{children:["The ",(0,a.jsx)(t.code,{children:"pickImageAsync()"})," function invokes ",(0,a.jsx)(t.code,{children:"ImagePicker.launchImageLibraryAsync()"})," and then handles the result. The ",(0,a.jsx)(t.code,{children:"launchImageLibraryAsync()"})," method returns an object containing information about the selected image."]}),(0,a.jsxs)(t.p,{children:["Here is an example of the ",(0,a.jsx)(t.code,{children:"result"})," object and the properties it contains:"]}),(0,a.jsxs)(d.tU,{children:[(0,a.jsx)(d.oz,{label:"Android",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-json",children:'@@@collapseHeight=280@@@{\n  "assets": [\n    {\n      "assetId": null,\n      "base64": null,\n      "duration": null,\n      "exif": null,\n      "fileName": "ea574eaa-f332-44a7-85b7-99704c22b402.jpeg",\n      "fileSize": 4513577,\n      "height": 4570,\n      "mimeType": "image/jpeg",\n      "rotation": null,\n      "type": "image",\n      "uri": "file:///data/user/0/host.exp.exponent/cache/ExperienceData/%2540anonymous%252FStickerSmash-13f21121-fc9d-4ec6-bf89-bf7d6165eb69/ImagePicker/ea574eaa-f332-44a7-85b7-99704c22b402.jpeg",\n      "width": 2854\n    }\n  ],\n  "canceled": false\n}\n'})})}),(0,a.jsx)(d.oz,{label:"iOS",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-json",children:'@@@collapseHeight=280@@@{\n  "assets": [\n    {\n      "assetId": "99D53A1F-FEEF-40E1-8BB3-7DD55A43C8B7/L0/001",\n      "base64": null,\n      "duration": null,\n      "exif": null,\n      "fileName": "IMG_0004.JPG",\n      "fileSize": 2548364,\n      "height": 1669,\n      "mimeType": "image/jpeg",\n      "type": "image",\n      "uri": "file:///data/user/0/host.exp.exponent/cache/ExperienceData/%2540anonymous%252FStickerSmash-13f21121-fc9d-4ec6-bf89-bf7d6165eb69/ImagePicker/ea574eaa-f332-44a7-85b7-99704c22b402.jpeg",\n      "width": 1668\n    }\n  ],\n  "canceled": false\n}\n'})})}),(0,a.jsx)(d.oz,{label:"web",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-json",children:'{\n  "assets": [\n    {\n      "fileName": "some-image.png",\n      "height": 720,\n      "mimeType": "image/png",\n      "uri": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABQAA"\n    }\n  ],\n  "canceled": false\n}\n'})})})]})]}),"\n",(0,a.jsxs)(c.p,{label:"4",children:[(0,a.jsx)(t.h2,{id:"use-the-selected-image",children:"Use the selected image"}),(0,a.jsxs)(t.p,{children:["The ",(0,a.jsx)(t.code,{children:"result"})," object provides the ",(0,a.jsx)(t.code,{children:"assets"})," array, which contains the ",(0,a.jsx)(t.code,{children:"uri"})," of the selected image. Let's take this value from the image picker and use it to show the selected image in the app."]}),(0,a.jsxs)(t.p,{children:["Modify the ",(0,a.jsx)(t.strong,{children:"app/(tabs)/index.tsx"})," file:"]}),(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsxs)(t.li,{children:["Declare a state variable called ",(0,a.jsx)(t.code,{children:"selectedImage"})," using the ",(0,a.jsx)(t.a,{href:"https://react.dev/learn/state-a-components-memory#adding-a-state-variable",children:(0,a.jsx)(t.code,{children:"useState"})})," hook from React. We'll use this state variable to hold the URI of the selected image."]}),"\n",(0,a.jsxs)(t.li,{children:["Update the ",(0,a.jsx)(t.code,{children:"pickImageAsync()"})," function to save the image URI in the ",(0,a.jsx)(t.code,{children:"selectedImage"})," state variable."]}),"\n",(0,a.jsxs)(t.li,{children:["Pass the ",(0,a.jsx)(t.code,{children:"selectedImage"})," as a prop to the ",(0,a.jsx)(t.code,{children:"ImageViewer"})," component."]}),"\n"]}),(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-tsx",children:"@@@app/(tabs)/index.tsx@@@import { View, StyleSheet } from 'react-native';\nimport * as ImagePicker from 'expo-image-picker';\n/* @tutinfo Import <CODE>useState</CODE> hook from <CODE>react<CODE>.*/\nimport { useState } from 'react';\n/* @end */\n\nimport Button from '@/components/Button';\nimport ImageViewer from '@/components/ImageViewer';\n\nconst PlaceholderImage = require('@/assets/images/background-image.png');\n\nexport default function Index() {\n  /* @tutinfo Create a state variable that will hold the value of selected image. */\n  const [selectedImage, setSelectedImage] = useState<string | undefined>(undefined);\n  /* @end */\n\n  const pickImageAsync = async () => {\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ['images'],\n      allowsEditing: true,\n      quality: 1,\n    });\n\n    if (!result.canceled) {\n      /* @tutinfo Pick the first uri from the <CODE>assets</CODE> array. Also, there is only one image selected at a time so you don't have to change this. */\n      setSelectedImage(result.assets[0].uri);\n      /* @end */\n    } else {\n      alert('You did not select any image.');\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.imageContainer}>\n        /* @tutinfo Pass the selected image URI to the <CODE>ImageViewer</CODE> component. */\n        <ImageViewer imgSource={PlaceholderImage} selectedImage={selectedImage} />\n        /* @end */\n      </View>\n      <View style={styles.footerContainer}>\n        <Button theme=\"primary\" label=\"Choose a photo\" onPress={pickImageAsync} />\n        <Button label=\"Use this photo\" />\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#25292e',\n    alignItems: 'center',\n  },\n  imageContainer: {\n    flex: 1,\n  },\n  footerContainer: {\n    flex: 1 / 3,\n    alignItems: 'center',\n  },\n});\n"})}),(0,a.jsxs)(t.p,{children:["Pass the ",(0,a.jsx)(t.code,{children:"selectedImage"})," prop to the ",(0,a.jsx)(t.code,{children:"ImageViewer"})," component to display the selected image instead of a placeholder image."]}),(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsxs)(t.li,{children:["Modify the ",(0,a.jsx)(t.strong,{children:"components/ImageViewer.tsx"})," file to accept the ",(0,a.jsx)(t.code,{children:"selectedImage"})," prop."]}),"\n",(0,a.jsxs)(t.li,{children:["The source of the image is getting long, so let's also move it to a separate variable called ",(0,a.jsx)(t.code,{children:"imageSource"}),"."]}),"\n",(0,a.jsxs)(t.li,{children:["Pass ",(0,a.jsx)(t.code,{children:"imageSource"})," as the value of the ",(0,a.jsx)(t.code,{children:"source"})," prop on the ",(0,a.jsx)(t.code,{children:"Image"})," component."]}),"\n"]}),(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-tsx",children:"@@@components/ImageViewer.tsx@@@import { ImageSourcePropType, StyleSheet } from 'react-native';\nimport { Image } from 'expo-image';\n\ntype Props = {\n  imgSource: ImageSourcePropType;\n  /* @tutinfo */\n  selectedImage?: string;\n  /* @end */\n};\n\nexport default function ImageViewer({ imgSource, /* @tutinfo Pass the <CODE>selectedImage</CODE> prop.*/selectedImage/* @end */ }: Props) {\n  /* @tutinfo If the selected image is not null, show the image from the device, otherwise, show the placeholder image. */\n  const imageSource = selectedImage ? { uri: selectedImage } : imgSource;\n  /* @end */\n\n  /* @tutinfo <CODE>imgSource</CODE> replaced by <CODE>imageSource</CODE>. */\n  return <Image source={imageSource} style={styles.image} />;\n  /* @end */\n}\n\nconst styles = StyleSheet.create({\n  image: {\n    width: 320,\n    height: 440,\n    borderRadius: 18,\n  },\n});\n"})}),(0,a.jsxs)(t.p,{children:["In the above snippet, the Image component uses a conditional operator to load the image's source. The picked image is a ",(0,a.jsxs)(t.a,{href:"https://reactnative.dev/docs/images#network-images",children:[(0,a.jsx)(t.code,{children:"uri"})," string"]}),", not a local asset like the placeholder image."]}),(0,a.jsx)(t.p,{children:"Let's take a look at our app now:"}),(0,a.jsx)(i.C,{file:"tutorial/03-image-picker-demo.mp4"}),(0,a.jsxs)(t.blockquote,{children:["\n",(0,a.jsxs)(t.p,{children:["The images used for the example app in this tutorial were picked from ",(0,a.jsx)(t.a,{href:"https://unsplash.com",children:"Unsplash"}),"."]}),"\n"]})]}),"\n",(0,a.jsx)(t.h2,{id:"summary",children:"Summary"}),"\n",(0,a.jsx)(l.s,{currentChapterIndex:3,name:"GET_STARTED",summary:"We've successfully added the functionality to pick an image from the device's media library.",nextChapterDescription:"In the next chapter, we'll learn how to create an emoji picker modal component.",nextChapterTitle:"Create an emoji picker modal",nextChapterLink:"/tutorial/create-a-modal"})]})}function x(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}s()}catch(e){s(e)}})},49800:(e,t,n)=>{"use strict";n.d(t,{oz:()=>r,tU:()=>u,Cy:()=>p});var s=n(37876),a=n(35867);let r=e=>(0,s.jsx)(a.Kp,{...e});var i=n(66028),l=n(14232),o=n(3343),c=n(58626),d=n(75298);function m(e){let{label:t,active:n,disabled:r,icon:l,className:m,rightSlot:h,layoutId:p,theme:u="secondary",LabelElement:x=d.P}=e,g=(0,o.I)();return(0,s.jsxs)("div",{className:"relative",children:[n&&(0,s.jsx)(c.P.div,{layoutId:`active-indicator-${p}`,transition:{ease:"linear",duration:.2*!g},className:(0,i.mergeClasses)("absolute inset-0 rounded-md border","default"===u&&"border-secondary bg-screen dark:bg-hover dark:drop-shadow-none","secondary"===u&&"border-button-secondary bg-default shadow-xs dark:bg-subtle")}),(0,s.jsx)(a.oz,{disabled:r,className:(0,i.mergeClasses)("relative z-10 rounded-md transition-colors",!n&&"default"===u&&"hocus:bg-selected dark:hocus:bg-element",!n&&"secondary"===u&&"hocus:bg-element dark:hocus:bg-subtle",m),children:(0,s.jsxs)("div",{className:(0,i.mergeClasses)("flex items-center gap-2 px-4 py-1.5",h&&"w-full justify-between"),children:[l,(0,s.jsx)(x,{theme:n?"default":"tertiary",weight:"medium",className:"transition-colors max-md-gutters:text-sm max-sm-gutters:text-xs",children:t}),h]})})]})}let h=(0,l.createContext)(null);function p(e){let{children:t}=e,[n,a]=(0,l.useState)(0);return(0,s.jsx)(h.Provider,{value:{index:n,setIndex:a},children:t})}let u=e=>{let t=(0,l.useContext)(h),[n,a]=(0,l.useState)(0);return t?(0,s.jsx)(x,{...e,...t}):(0,s.jsx)(x,{...e,index:n,setIndex:a})},x=e=>{let{children:t,tabs:n,index:r,setIndex:o}=e,c=n??l.Children.map(t,e=>(0,l.isValidElement)(e)?e?.props?.label:e??"[untitled]"),d=(0,l.useMemo)(()=>c.reduce((e,t)=>e+t,`${Math.random().toString(36).slice(5)}-`),[]);return(0,s.jsxs)(a.tU,{index:r,onChange:o,className:"my-4 rounded-md border border-default shadow-xs",children:[(0,s.jsx)(a.wb,{className:"flex flex-wrap gap-1 border-b border-secondary px-4 py-3",children:c.map((e,t)=>(0,s.jsx)(m,{active:t===r,label:e,layoutId:d},t))}),(0,s.jsx)(a.T2,{className:(0,i.mergeClasses)("px-5 py-4","[&_ul]:mb-3","first:[&_figure]:mt-1 first:[&_pre]:mt-1","last:[&>div>*]:!mb-0"),children:t})]})}},58674:(e,t,n)=>{"use strict";n.d(t,{r:()=>o});var s=n(37876),a=n(66028),r=n(97342),i=n(83038),l=n(75298);function o(e){let{title:t,description:n,videoId:o,time:c,className:d}=e;return(0,s.jsxs)(a.LinkBase,{openInNewTab:!0,href:`https://www.youtube.com/watch?v=${o}${c?`&t=${c}`:""}`,className:(0,a.mergeClasses)("group relative flex items-stretch overflow-hidden rounded-lg border border-default bg-default shadow-xs transition","hocus:bg-subtle hocus:shadow-sm","max-sm-gutters:flex-col","[&+hr]:!mt-6",d),"aria-label":`Watch video: ${t} (opens in new tab)`,children:[(0,s.jsxs)("div",{className:(0,a.mergeClasses)("relative flex max-w-[200px] items-center justify-center overflow-hidden border-r border-secondary bg-element","max-sm-gutters:max-w-full max-sm-gutters:border-b max-sm-gutters:border-r-0"),children:[(0,s.jsx)("img",{src:`https://i3.ytimg.com/vi/${o}/maxresdefault.jpg`,className:"aspect-video transition duration-300 group-hover:scale-105 group-focus-visible:scale-105",alt:t,"aria-label":`Video thumbnail for ${t}`}),(0,s.jsx)("div",{className:"absolute right-[calc(50%-22px)] top-[calc(50%-22px)] flex size-[44px] items-center justify-center rounded-full bg-[#000a]",role:"presentation","aria-hidden":"true",children:(0,s.jsx)(i.PlaySolidIcon,{className:"icon-lg ml-0.5 text-palette-white"})})]}),(0,s.jsxs)("div",{className:"flex flex-col justify-center gap-1 px-4 py-2",children:[(0,s.jsx)(l.d_,{className:"flex items-center gap-1.5 leading-normal",children:t}),n&&(0,s.jsx)(l.Tk,{theme:"secondary",className:"flex items-center gap-2",children:n})]}),(0,s.jsx)(r.ArrowUpRightIcon,{className:"icon-md my-auto ml-auto mr-4 shrink-0 text-icon-secondary max-sm-gutters:hidden","aria-hidden":"true"})]})}},65987:(e,t,n)=>{"use strict";n.d(t,{u:()=>o});var s=n(37876),a=n(66028),r=n(39949),i=n(97342),l=n(75298);function o(e){let{title:t,description:n,href:o,testID:c,Icon:d,imageUrl:m}=e,h=!!o?.startsWith("http"),p=h?i.ArrowUpRightIcon:r.ArrowRightIcon;return(0,s.jsxs)(a.LinkBase,{href:o,className:(0,a.mergeClasses)("group mb-3 flex flex-row justify-between rounded-md border border-solid border-default px-4 py-3 transition","hocus:bg-subtle hocus:shadow-xs"),openInNewTab:h,children:[(0,s.jsxs)("div",{className:"flex flex-row gap-4",children:[d&&(0,s.jsx)("div",{className:"flex h-9 min-w-[36px] items-center justify-center self-center rounded-md bg-element transition group-hover:bg-hover",children:(0,s.jsx)(d,{className:"icon-lg text-icon-default"})}),m&&(0,s.jsx)("img",{className:"!h-9 !w-9 self-center",src:m,alt:"Icon"}),(0,s.jsxs)("div",{className:"flex flex-col self-center",children:[(0,s.jsx)(l.M9,{children:t}),n&&(0,s.jsx)(l.Tk,{theme:"secondary",children:n})]})]}),(0,s.jsx)(p,{className:"ml-3 min-w-[20px] content-end self-center text-icon-secondary"})]})}},72486:(e,t,n)=>{"use strict";n.d(t,{C:()=>p});var s=n(37876),a=n(66028),r=n(12619),i=n(18847),l=n.n(i),o=n(14232),c=n(46924),d=n(30441);function m(e){let{src:t,alt:n,...a}=e,[r,i]=(0,o.useState)(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{type:"button",onClick:()=>{i(!0)},children:(0,s.jsx)("img",{src:t,alt:n,...a})}),(0,s.jsx)(c.Yf,{open:r,close:()=>{i(!1)},slides:[{src:t}],styles:{container:{backgroundColor:"rgba(0, 0, 0, .8)"}},controller:{aria:!0,closeOnBackdropClick:!0},carousel:{finite:!0},render:{buttonPrev:()=>null,buttonNext:()=>null},plugins:[d.A]})]})}n(23655);let h=l()(()=>n.e(20845).then(n.t.bind(n,20845,23)),{loadableGenerated:{webpack:()=>[20845]},ssr:!1});function p(e){let{alt:t,src:n,file:i,caption:l,controls:c,loop:d=!0,className:p,containerClassName:u}=e,[x,g]=(0,o.useState)(),f=!!i,j=(0,o.useRef)(null),y=(0,r.W)(j);return(0,s.jsxs)("figure",{className:(0,a.mergeClasses)("my-5 cursor-pointer rounded-lg py-2.5 text-center",u,!f&&"bg-subtle"),onClick:()=>{void 0!==c||x||g(!0)},children:[n?(0,s.jsx)(m,{src:n,alt:t,className:(0,a.mergeClasses)("inline rounded-md transition-opacity duration-default ease-in-out hover:opacity-80",p)}):f?(0,s.jsxs)("div",{className:"relative aspect-video overflow-hidden rounded-lg bg-palette-black",ref:j,children:[(0,s.jsx)(h,{url:`/static/videos/${i}`,className:"react-player",width:"100%",height:"100%",muted:!0,playing:y&&!!i,controls:void 0===c?x:c,playsinline:!0,loop:d}),(0,s.jsx)("div",{className:(0,a.mergeClasses)("pointer-events-none absolute inset-0 transition-opacity duration-500 max-md-gutters:hidden",y?"opacity-0":"opacity-70")})]}):null,l&&(0,s.jsx)("figcaption",{className:(0,a.mergeClasses)("mt-3.5 cursor-text px-8 py-2 text-center text-xs text-secondary",f&&"bg-transparent"),children:l})]})}},83038:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});let s=n(14232),a=n(71894),r=function(e){let t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(let n in e)if("default"!==n){let s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:()=>e[n]})}}return t.default=e,Object.freeze(t)}(s);function i({className:e,...t}){let n=a.mergeClasses("icon-md text-icon-default translate-z shrink-0",e);return r.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:n,role:"img",...t},r.createElement("g",{id:"play-solid-icon"},r.createElement("path",{id:"Solid",fillRule:"evenodd",d:"M8.00625 2.80243C8.0182 2.8104 8.03019 2.81839 8.04222 2.82642L18.591 9.8589C18.8962 10.0623 19.1792 10.251 19.3965 10.4263C19.6234 10.6092 19.8908 10.8629 20.0447 11.234C20.2481 11.7245 20.2481 12.2758 20.0447 12.7663C19.8908 13.1374 19.6234 13.391 19.3965 13.574C19.1792 13.7493 18.8962 13.9379 18.591 14.1413L8.00628 21.1978C7.63319 21.4465 7.29772 21.6702 7.01305 21.8245C6.72818 21.9789 6.33717 22.1553 5.8808 22.128C5.29705 22.0932 4.75779 21.8046 4.40498 21.3382C4.12916 20.9736 4.05905 20.5504 4.02949 20.2278C3.99994 19.9053 3.99997 19.5021 4 19.0537L4 4.98975C4 4.97529 4 4.96087 4 4.9465C3.99997 4.49811 3.99994 4.09491 4.02949 3.77249C4.05905 3.44983 4.12916 3.02663 4.40498 2.66202C4.75779 2.19565 5.29705 1.90705 5.8808 1.87219C6.33717 1.84494 6.72818 2.02135 7.01305 2.17573C7.29771 2.33 7.63317 2.55368 8.00625 2.80243Z",clipRule:"evenodd"})))}i.displayName="PlaySolidIcon",t.PlaySolidIcon=i},87249:(e,t,n)=>{"use strict";n.d(t,{p:()=>i});var s=n(37876),a=n(66028),r=n(75298);let i=e=>{let{children:t,label:n}=e;return(0,s.jsxs)("div",{className:"mb-8 mt-6 flex gap-4",children:[(0,s.jsx)(r.ZS,{theme:"secondary",className:(0,a.mergeClasses)("mt-1 flex h-7 min-w-[28px] items-center justify-center rounded-full bg-element",n.length>=3&&"!text-xs"),children:n}),(0,s.jsx)("div",{className:"w-full max-w-[calc(100%-44px)] pt-1.5 prose-h2:!-mt-1.5 prose-h3:!-mt-1 prose-h4:!-mt-px [&>*:last-child]:!mb-0",children:"string"==typeof t?(0,s.jsx)(r.P,{children:t}):t})]})}},94275:(e,t,n)=>{"use strict";n.a(e,async(e,s)=>{try{n.d(t,{A3:()=>r.A,BK:()=>i.B,bk:()=>a.b});var a=n(19618),r=n(7759),i=n(19002),l=e([r]);r=(l.then?(await l)():l)[0],s()}catch(e){s(e)}})},95432:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/tutorial/image-picker",function(){return n(40717)}])}},e=>{e.O(0,[55312,58626,19243,11949,90636,46593,38792],()=>e(e.s=95432)),_N_E=e.O()}]);